{
  "file_path": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
  "hash": "a6d10008",
  "indexed_at": "2026-01-09T18:16:47.832349Z",
  "nodes": [
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::import::field",
      "name": "import field",
      "type": "import",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 3,
      "line_end": 3,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "from dataclasses import dataclass, field"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::import::Enum",
      "name": "import Enum",
      "type": "import",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 4,
      "line_end": 4,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "from enum import Enum"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::import::Union",
      "name": "import Union",
      "type": "import",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 5,
      "line_end": 5,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "from typing import Optional, Union"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::estimate_tokens",
      "name": "estimate_tokens",
      "type": "function",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 105,
      "line_end": 109,
      "dependencies": [],
      "children": [],
      "docstring": "Rough token estimate using character count / 4.",
      "signature": "estimate_tokens(text: str)",
      "source": "def estimate_tokens(text: str) -> int:\n    \"\"\"Rough token estimate using character count / 4.\"\"\"\n    if not text:\n        return 0\n    return len(text) // 4"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::NodeType",
      "name": "NodeType",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 8,
      "line_end": 15,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class NodeType(Enum):\n    MODULE = \"module\"\n    CLASS = \"class\"\n    FUNCTION = \"function\"\n    METHOD = \"method\"\n    CONSTANT = \"constant\"\n    VARIABLE = \"variable\"\n    IMPORT = \"import\""
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::EdgeType",
      "name": "EdgeType",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 18,
      "line_end": 22,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class EdgeType(Enum):\n    CALLS = \"calls\"\n    IMPORTS = \"imports\"\n    INHERITS = \"inherits\"\n    USES = \"uses\""
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::FetchLevel",
      "name": "FetchLevel",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 25,
      "line_end": 28,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class FetchLevel(Enum):\n    SKELETON = \"skeleton\"  # ~15 tokens/node\n    SUMMARY = \"summary\"    # ~75 tokens/node\n    FULL = \"full\"          # ~400 tokens/node"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::EdgeSkeleton",
      "name": "EdgeSkeleton",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 32,
      "line_end": 37,
      "dependencies": [],
      "children": [],
      "docstring": "Dependency edge between nodes.",
      "signature": null,
      "source": "class EdgeSkeleton:\n    \"\"\"Dependency edge between nodes.\"\"\"\n    target_id: str\n    target_name: str\n    edge_type: EdgeType\n    location_line: Optional[int] = None"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::NodeSkeleton",
      "name": "NodeSkeleton",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 41,
      "line_end": 54,
      "dependencies": [],
      "children": [],
      "docstring": "Layer 0: Names and dependencies only (~15 tokens).",
      "signature": null,
      "source": "class NodeSkeleton:\n    \"\"\"Layer 0: Names and dependencies only (~15 tokens).\"\"\"\n    id: str                 # \"src/auth/service.py::AuthService.login\"\n    name: str               # \"login\"\n    qualified_name: str     # \"auth.service.AuthService.login\"\n    node_type: NodeType\n    level: int              # 0=root, 1=module, 2=class, 3=method\n    parent_id: Optional[str]\n    children_ids: list[str] = field(default_factory=list)\n    depends_on: list[EdgeSkeleton] = field(default_factory=list)\n    depended_by: list[EdgeSkeleton] = field(default_factory=list)\n    file_path: str = \"\"\n    line_start: int = 0\n    line_end: int = 0"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::NodeSummary",
      "name": "NodeSummary",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 58,
      "line_end": 66,
      "dependencies": [],
      "children": [],
      "docstring": "Layer 1: + docstrings and signatures (~75 tokens).",
      "signature": null,
      "source": "class NodeSummary(NodeSkeleton):\n    \"\"\"Layer 1: + docstrings and signatures (~75 tokens).\"\"\"\n    signature: Optional[str] = None\n    summary: Optional[str] = None\n    description: Optional[str] = None\n    args: Optional[list[dict]] = None\n    returns: Optional[str] = None\n    raises: Optional[list[str]] = None\n    compliance: Optional[\"ComplianceStatus\"] = None"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::NodeFull",
      "name": "NodeFull",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 70,
      "line_end": 72,
      "dependencies": [],
      "children": [],
      "docstring": "Layer 2: + source code (~400 tokens).",
      "signature": null,
      "source": "class NodeFull(NodeSummary):\n    \"\"\"Layer 2: + source code (~400 tokens).\"\"\"\n    source: Optional[str] = None"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::ComplianceStatus",
      "name": "ComplianceStatus",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 76,
      "line_end": 78,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class ComplianceStatus:\n    is_compliant: bool\n    violations: list[\"Violation\"] = field(default_factory=list)"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::Violation",
      "name": "Violation",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 82,
      "line_end": 86,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class Violation:\n    rule: str\n    severity: str  # \"error\" | \"warning\"\n    message: str\n    suggestion: Optional[str] = None"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::SnapshotInfo",
      "name": "SnapshotInfo",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 90,
      "line_end": 99,
      "dependencies": [],
      "children": [],
      "docstring": null,
      "signature": null,
      "source": "class SnapshotInfo:\n    id: str\n    timestamp: str\n    trigger: str  # \"file_change\" | \"manual\"\n    files_changed: list[str] = field(default_factory=list)\n    nodes_added: int = 0\n    nodes_removed: int = 0\n    nodes_modified: int = 0\n    git_commit: Optional[str] = None\n    git_message: Optional[str] = None"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode",
      "name": "CodeNode",
      "type": "class",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 113,
      "line_end": 175,
      "dependencies": [],
      "children": [
        "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_skeleton",
        "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_summary",
        "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_full"
      ],
      "docstring": "Simplified code node for parser output with multi-level serialization.",
      "signature": null,
      "source": "class CodeNode:\n    \"\"\"Simplified code node for parser output with multi-level serialization.\"\"\"\n    id: str  # format: \"file_path::qualified_name\"\n    name: str\n    node_type: NodeType\n    file_path: str\n    line_start: int\n    line_end: int\n    dependencies: list[str] = field(default_factory=list)  # node IDs this depends on\n    children: list[str] = field(default_factory=list)  # child node IDs\n    docstring: Optional[str] = None\n    signature: Optional[str] = None  # for functions/methods\n    source: Optional[str] = None  # full source code\n\n    def to_skeleton(self) -> dict:\n        \"\"\"Return skeleton representation (~15 tokens): id, name, type, dependencies.\"\"\"\n        return {\n            \"id\": self.id,\n            \"name\": self.name,\n            \"type\": self.node_type.value,\n            \"dependencies\": self.dependencies,\n        }\n\n    def to_summary(self) -> dict:\n        \"\"\"Return summary representation (~75 tokens): skeleton + docstring + signature.\"\"\"\n        result = self.to_skeleton()\n\n        # Add signature if available\n        if self.signature:\n            result[\"signature\"] = self.signature\n\n        # Add truncated docstring if available\n        if self.docstring:\n            truncated = self.docstring[:100]\n            if len(self.docstring) > 100:\n                truncated += \"...\"\n            result[\"docstring\"] = truncated\n\n        # Add line range for context\n        result[\"line_start\"] = self.line_start\n        result[\"line_end\"] = self.line_end\n\n        return result\n\n    def to_full(self) -> dict:\n        \"\"\"Return full representation (~400 tokens): everything including source.\"\"\"\n        result = self.to_summary()\n\n        # Replace truncated docstring with full version\n        if self.docstring:\n            result[\"docstring\"] = self.docstring\n\n        # Add children\n        result[\"children\"] = self.children\n\n        # Add file path\n        result[\"file_path\"] = self.file_path\n\n        # Add full source\n        if self.source:\n            result[\"source\"] = self.source\n\n        return result"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_skeleton",
      "name": "to_skeleton",
      "type": "method",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 127,
      "line_end": 134,
      "dependencies": [],
      "children": [],
      "docstring": "Return skeleton representation (~15 tokens): id, name, type, dependencies.",
      "signature": "to_skeleton(self)",
      "source": "def to_skeleton(self) -> dict:\n        \"\"\"Return skeleton representation (~15 tokens): id, name, type, dependencies.\"\"\"\n        return {\n            \"id\": self.id,\n            \"name\": self.name,\n            \"type\": self.node_type.value,\n            \"dependencies\": self.dependencies,\n        }"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_summary",
      "name": "to_summary",
      "type": "method",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 136,
      "line_end": 155,
      "dependencies": [
        "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_skeleton"
      ],
      "children": [],
      "docstring": "Return summary representation (~75 tokens): skeleton + docstring + signature.",
      "signature": "to_summary(self)",
      "source": "def to_summary(self) -> dict:\n        \"\"\"Return summary representation (~75 tokens): skeleton + docstring + signature.\"\"\"\n        result = self.to_skeleton()\n\n        # Add signature if available\n        if self.signature:\n            result[\"signature\"] = self.signature\n\n        # Add truncated docstring if available\n        if self.docstring:\n            truncated = self.docstring[:100]\n            if len(self.docstring) > 100:\n                truncated += \"...\"\n            result[\"docstring\"] = truncated\n\n        # Add line range for context\n        result[\"line_start\"] = self.line_start\n        result[\"line_end\"] = self.line_end\n\n        return result"
    },
    {
      "id": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_full",
      "name": "to_full",
      "type": "method",
      "file": "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py",
      "line_start": 157,
      "line_end": 175,
      "dependencies": [
        "/Users/dhirajd/Documents/claude/auzoom/src/auzoom/models.py::CodeNode.to_summary"
      ],
      "children": [],
      "docstring": "Return full representation (~400 tokens): everything including source.",
      "signature": "to_full(self)",
      "source": "def to_full(self) -> dict:\n        \"\"\"Return full representation (~400 tokens): everything including source.\"\"\"\n        result = self.to_summary()\n\n        # Replace truncated docstring with full version\n        if self.docstring:\n            result[\"docstring\"] = self.docstring\n\n        # Add children\n        result[\"children\"] = self.children\n\n        # Add file path\n        result[\"file_path\"] = self.file_path\n\n        # Add full source\n        if self.source:\n            result[\"source\"] = self.source\n\n        return result"
    }
  ],
  "imports": []
}